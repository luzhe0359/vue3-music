import"./base.ab928bac.js";import{v as S}from"./el-loading.7314afb5.js";import{E as N,a as P}from"./el-table-column.2d762739.js";import"./el-popper.25be0f7c.js";import{_ as V}from"./IconPark.vue_vue_type_script_setup_true_lang.ef3966b8.js";import{E as I,P as K}from"./el-image-viewer.c0000d42.js";import{E as L,a as R}from"./el-space.bdb61cf8.js";import{E as $}from"./el-button.291b702e.js";import{g as j,aa as _,a4 as A,K as H,r as i,o as M,m as f,z as s,E as a,B as l,x as u,k as U,A as Y,F as y,aK as q,l as m,Y as G,a5 as v,H as p,ad as J}from"./index.b2e5e9b8.js";import"./error.47aa3b19.js";import"./event.28e0ca55.js";import"./typescript.7c7271d2.js";import"./scroll.fc7cd787.js";import"./size.61511ff8.js";import"./vnode.20b256f7.js";import"./index.57e87d43.js";const O={class:"mb-5"},Q={class:"flex items-center"},W={class:"relative"},X={class:"absolute inset-0 flex justify-center items-center"},Z={class:"truncate"},be=j({__name:"TopSong",setup(ee){const{play:k}=_(),{id:b}=A(_()),h=H(L,{direction:"vertical"}),E=[{name:"\u5168\u90E8",key:0},{name:"\u534E\u8BED",key:7},{name:"\u6B27\u7F8E",key:96},{name:"\u65E5\u672C",key:8},{name:"\u97E9\u56FD",key:16}],n=i(0),r=i(!1),c=i([]),d=async()=>{try{r.value=!0,c.value=[],c.value=await q(n.value)}catch{}finally{r.value=!1}},g=t=>{n.value=t,d()},w=({row:t})=>t.id==b.value?"table-playing":"",x=t=>{k(t.id)};return M(d),(t,ae)=>{const B=$,C=R,o=N,D=I,T=V,F=P,z=S;return m(),f(y,null,[s("div",O,[a(C,{wrap:"",size:5,spacer:u(h)},{default:l(()=>[(m(),f(y,null,G(E,e=>a(B,{key:e.key,type:n.value==e.key?"primary":"",link:n.value!=e.key,size:"small",round:"",onClick:te=>g(e.key)},{default:l(()=>[v(p(e.name),1)]),_:2},1032,["type","link","onClick"])),64))]),_:1},8,["spacer"])]),U((m(),Y(F,{data:c.value,"show-header":!1,style:{width:"100%"},"row-class-name":w,onCellDblclick:x},{default:l(()=>[a(o,{type:"index",width:"50"}),a(o,{label:"\u6807\u9898","min-width":"150"},{default:l(e=>[s("div",Q,[s("div",W,[a(D,{class:"w-16 h-16 mr-2 flex-shrink-0 rounded",fit:"cover",loading:"lazy",lazy:"",src:e.row.album.picUrl},null,8,["src"]),s("div",X,[a(T,{icon:u(K),theme:"filled",class:"hover-text text-emerald-300",size:30},null,8,["icon"])])]),s("span",Z,p(e.row.name),1)])]),_:1}),a(o,{prop:"artists[0].name",label:"\u4E13\u9898"}),a(o,{prop:"album.name",label:"\u6B4C\u624B"}),a(o,{label:"\u65F6\u95F4"},{default:l(e=>[v(p(u(J)(e.row.duration/1e3)),1)]),_:1})]),_:1},8,["data"])),[[z,r.value]])],64)}}});export{be as default};
